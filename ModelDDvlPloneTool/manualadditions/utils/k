<tal:block replace="nothing">
# File: Catalogo_ResumenIdiomas_i18n_view.pt
#
# Copyright (c) 2008 by Conselleria de Infraestructuras y Transporte de la
# Generalidad Valenciana
#
# GNU General Public License (GPL)
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
# 02110-1301, USA.
#
# Authors: 
# Conselleria de Infraestructuras y Transporte
#          de la Generalidad Valenciana (Spain) gvSIGtraducciones@gvSIG.org
# Model Driven Development sl  Valencia (Spain) http://www.ModelDD.org 
# Antonio Carrasco Valero                       carrasco@ModelDD.org
#
#
</tal:block>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">
<body>


    <div metal:define-macro="tCatalogo_ResumenIdiomas_i18n" >
    

       <div tal:define="
            global pInforme         python: here.fInformePorIdiomas(); 
            global pNumeroCadenas   python: pInforme[0];
            global pEstados         python: pInforme[1];
            global pInformesIdiomas python: pInforme[2];
            global pClasesFilas     python: ['even', 'odd',];
            global pColors          python: ['Red', 'Yellow', 'Green', 'Blue'];
            global pIndex           python: 0" />
        
        <table width="100%%" cellspacing="0" cellpadding="0" frame="void">
            <tr>
                <td align="left" valigne="baseline" >
                    <strong>
                        <span i18n:translate="gvSIGtraducciones_numeroCadenas_property_label">gvSIGtraducciones_numeroCadenas_property_label</span>
                    </strong>
                    &nbsp;
                    <font size="3"> <strong><span tal:content="python: pNumeroCadenas" /></strong></font>
                </td>
                <td align="right" valign="baseline"><strong>
                    <a href="#" title="Importar"  tal:attributes="href python: '%s/TRAImportar' % here.absolute_url()">
                        <font color="Red"><span i18n:translate="gvSIGtraducciones_importar_action_msgid">gvSIGtraducciones_importar_action_msgid</span></font>
                    </a>
                    </strong>
                </td>
            </tr>
        </table>
                      
        
        <table width="100%" id="sortable" class="listing" summary="#"  tal:attributes="summary string: Informe de Progreso">
            <thead>
                <tr tal:define="global pColorIndex python: -1">
                    <th width="120" class="nosort" align="left">
                       <span i18n:translate="gvSIGtraducciones_label_idioma">gvSIGtraducciones_label_idioma</span>
                    </th>
                    <tal:block tal:repeat="unEstado pEstados">
                        <th width="50" class="nosort" align="right" >
                            <span i18n:translate="" tal:content="python: 'gvSIGtraducciones_estado_%s_label' % unEstado.lower()" />
                            <br/>  
                            <table width="100%" cellspacing="0" cellpadding="0" frame="void">
                                <tr height="8"><td bgColor="" tal:attributes="bgColor python: pColors[ pColorIndex]" tal:define="global pColorIndex python: pColorIndex + 1" /></tr>
                            </table>  
                        </th>
                    </tal:block>
                    <th width="70%" class="nosort" align="left">
                        <span i18n:translate="gvSIGtraducciones_barracolorresumenavance" />
                    </th>
                </tr>
           </thead>
           
           
           <tbody>
                <tr class="#" 
                    tal:attributes="class python: pClasesFilas[pIndex % 2]"
                    tal:repeat="unInformeIdioma pInformesIdiomas">
                    <td align="left" valign="baseline">
                        <font size="2" color="Black">
                            <a href="#" title="#"  tal:attributes="href python:  unInformeIdioma[2]; title python: unInformeIdioma[0]">
                                 <tal:block tal:define="
                                     pCode python: unInformeIdioma[4];
                                     pFlag python: here.portal_languages.getFlagForLanguageCode( pCode);
                                     global pIndex python: pIndex + 1">
                                     <tal:flag condition="pFlag">
                                         <img width="14" height="11" alt=""
                                             tal:attributes="
                                                 src string:${portal_url}/${pFlag};
                                                 title python: unInformeIdioma[3]" />
                                     </tal:flag>
                                 </tal:block>
                                 <strong>
                                    <span tal:content="python: unInformeIdioma[3]" />
                                 </strong>
                            </a>
                        </font>
              
                 
                 
                    </td>
                    <tal:block tal:repeat="unEstadoNumeroYPorcentaje python: unInformeIdioma[1]">
                        <td align="right" valign="baseline">
                            <h3>
                                <a href="#" title="#"  tal:attributes="href python:  unInformeIdioma[2]; title python: unInformeIdioma[0]"
                                    tal:content="python: unEstadoNumeroYPorcentaje[1]"/>
                            </h3>
                        </td> 
                    </tal:block>
                    <td width="200">
                        <table width="100%" cellspacing="0" cellpadding="0" frame="void"
                            tal:define="global pColorIndex python: -1">
                            <tr height="8">
                                <tal:block tal:repeat="unEstadoNumeroYPorcentaje python: unInformeIdioma[1]">
                                    <tal:block tal:condition="python: unEstadoNumeroYPorcentaje[2] > 0">
                                        <tal:block tal:replace="structure python: '%ctd bgcolor=%c%s%c width=%c%s%%%c /%c' %( 60, 34, pColors[ pColorIndex], 34, 34, unEstadoNumeroYPorcentaje[2] , 34, 62)"
                                            tal:define="global pColorIndex python: pColorIndex + 1" />
                                    </tal:block>
                                </tal:block>
                            </tr>
                        </table>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tal:block tal:condition="python: pPermiteCrearElementos">                    
                    <tr class="#" tal:attributes="class python: pClasesFilas[pIndex % 2]">
                        <td align="center">
                            <a href="#" tal:attributes="href python: '%s/TRACrearIdioma' % here.absolute_url()" >
                                <img src="#" tal:attributes="src python: '%s/add_icon.gif' % here.absolute_url()"  
                                    alt="Crear" title="Crear" id="icon-add"
                                    i18n:attributes="alt ModelDDploneVU_crear_action_label; title ModelDDploneVU_crear_action_label">
                                </a>
                        </td>
                        <td colspan="#" align="left" tal:attributes="colspan python: len( pEstados) + 1">
                            <a href="#" tal:attributes="href python: '%s/TRACrearIdioma' % here.absolute_url()">
                                <tal:block  i18n:domain="ModelDDploneVU" i18n:translate="ModelDDploneVU_crear_action_label">Crear</tal:block>        
                                <tal:block   i18n:translate="" tal:content="string:TRAIdioma" ></tal:block>
                            </a>
                        </td>
                    </tr>
                </tal:block>
        </tfoot> 
    </table>


    </div>        





</body>
</html>
