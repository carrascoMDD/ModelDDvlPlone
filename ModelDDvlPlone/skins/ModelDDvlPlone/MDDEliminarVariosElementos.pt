<tal:block replace="nothing">
# -*- coding: utf-8 -*-
#
# File: MDDEliminarVariosElementos.pt
#
# Copyright (c) 2008 by 2008 Model Driven Development sl and Antonio Carrasco Valero
#
# GNU General Public License (GPL)
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
# 02110-1301, USA.
#
# Authors: 
# Model Driven Development sl  Valencia (Spain) www.ModelDD.org 
# Antonio Carrasco Valero                       carrasco@ModelDD.org
#</tal:block>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
<body>

    <metal:main fill-slot="main">
    
    <tal:main-macro metal:define-macro="main"
        tal:define="text string:Copyright 2008 Model Driven Development sociedad limitada y Antonio Carrasco Valero" >

        <div metal:use-macro="here/document_actions/macros/document_actions">
            Document actions (print, sendto etc)
        </div>

        <h1 tal:content="here/Title" class="documentFirstHeading">
          Title or id
        </h1>

        <div metal:use-macro="here/document_byline/macros/byline">
          Get the byline - contains details about author and modification date.
        </div>



        <metal:block metal:use-macro="here/PerformanceAnalysis/macros/tSetupPerformanceAnalysis" />   
    
        <tal:block tal:define="global pRedirectURL python: '%s/Tabular' % here.absolute_url()"
            tal:condition="python: request.has_key('theConfirmedDelete') and request['theConfirmedDelete'] == 'Yes' and request.has_key('theIds') and request['theIds'] and request.has_key('theUIDs') and request['theUIDs'] and request.has_key('theSecondsNow') and request['theSecondsNow']" >
            <tal:block tal:define="
                pUIDsToDelete           python: request['theUIDs']; 
                pIdsToDelete            python: request['theIds']; 
                pSecondsRequest         python: int( request['theSecondsNow']);
                pRetrievalStartTime     python: here.ModelDDvlPlone_tool.fMillisecondsNow();
                pProfilingResults python: (pPerformanceAnalysis or {}).get( 'profiling_results', None);
                unosArgs python: {
                    'theTimeProfilingResults' :pProfilingResults,                          
                    'theContainerElement'     :here, 
                    'theIdsToDelete'          :pIdsToDelete, 
                    'theUIDsToDelete'         :pUIDsToDelete, 
                    'theRequestSeconds'       :pSecondsRequest, 
                    'theAdditionalParams'     :None, };        
                pDeleteManyReports      python: here.ModelDDvlPlone_tool.fEliminarVariosElementos( **unosArgs);
                pRetrievalEndTime       python: here.ModelDDvlPlone_tool.fMillisecondsNow()" >
                
                <tal:block tal:condition="not: pDeleteManyReports" >
                    not: pDeleteManyReports
                </tal:block>
                
                <tal:block tal:condition="pDeleteManyReports" >
                
                    <tal:block tal:content="structure python: here.ModelDDvlPlone_tool.fPrettyPrintHTML( pDeleteManyReports)" />
                    
                    <tal:block tal:replace="nothing" >
                        <tal:block tal:repeat="pDeleteReport pDeleteManyReports" >
                            <tal:block tal:condition="python: pDeleteReport.get( 'parent_traversal_name', '')" >
                                <tal:block tal:define="global pRedirectURL python: '%s/Tabular#aggregation-%s' % ( here.absolute_url(),  pDeleteReport.get( 'parent_traversal_name', ''))" />
                            </tal:block>
                            Effect: <span tal:content="pDeleteReport/effect" />.
                            <tal:block tal:condition="python: pDeleteReport.get( 'effect', '') == 'error'" >
                                &ensp;
                                Failure:
                                <span tal:content="pDeleteReport/failure" />
                                .
                                <br/>
                            </tal:block>
        
                            <tal:block tal:define="pImpactReport python: pDeleteReport.get( 'impact_report', {})" 
                                tal:condition="pImpactReport">
                                <tal:block tal:define="pObjectToDeleteResult python: pImpactReport.get( 'here', {})" 
                                    tal:condition="pObjectToDeleteResult">
                                    Title:
                                    <span tal:content="pObjectToDeleteResult/values_by_name/title/uvalue" />
                                    .
                                    <br/>
                                </tal:block>
                            </tal:block>
                        </tal:block>
                    </tal:block>
                </tal:block>
             </tal:block>
        </tal:block>
    
        <metal:block metal:use-macro="here/PerformanceAnalysis/macros/tRenderProcessingTime_HTML" />   
    
        <tal:block tal:replace="nothing" >
            <tal:block tal:define="dummy python: request.response.redirect( pRedirectURL)" />    
        </tal:block>
    
        <div tal:replace="structure python: here.ModelDDvlPlone_tool.fRenderTemplate( here, '%sFooter_view' )" />
                           
 
    </tal:main-macro>
</metal:main>

</body>
</html>

        
        
