<tal:block replace="nothing">
# Copyright (c) 2008 by 2008 Model Driven Development sl and Antonio Carrasco Valero
#
# GNU General Public License (GPL)
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
# 02110-1301, USA.
#
# Authors: 
# Model Driven Development sl  Valencia (Spain) www.ModelDD.org 
# Antonio Carrasco Valero                       carrasco@ModelDD.org
#</tal:block>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">
<body>


    <metal:block metal:use-macro="here/PerformanceAnalysis/macros/tSetupPerformanceAnalysis" />   

    <tal:block tal:define="global pRedirectURL python: '%s/Tabular' % here.absolute_url()"
        tal:condition="python: request.has_key('theConfirmedDelete') and request['theConfirmedDelete'] == 'Yes' and request.has_key('theUIDToDelete') and request['theUIDToDelete'] and request.has_key('theSecondsNow') and request['theSecondsNow']" >
<p>eliminando</p>        
        <tal:block tal:define="
            pUIDToDelete            request/theUIDToDelete; 
            pSecondsRequest         python: int( request['theSecondsNow']);
            pRetrievalStartTime     python: here.ModelDDvlPlone_tool.fMillisecondsNow();
            pProfilingResults python: (pPerformanceAnalysis or {}).get( 'profiling_results', None);
            unosArgs python: {
                'theTimeProfilingResults' :pProfilingResults,                          
                'theContainerElement'     :here, 
                'theUIDToDelete'          :pUIDToDelete, 
                'theRequestSeconds'       :pSecondsRequest, 
                'theAdditionalParams'     :None, };
            pDeleteReport           python: here.ModelDDvlPlone_tool.fEliminarElementoPlone( **unosArgs);
            pRetrievalEndTime       python: here.ModelDDvlPlone_tool.fMillisecondsNow()" 
            tal:condition="pDeleteReport" >
            <tal:block tal:condition="python: pDeleteReport.get( 'parent_traversal_name', '')" >
                <tal:block tal:define="global pRedirectURL python: '%s/Tabular#aggregation-%s' % ( here.absolute_url(), pDeleteReport.get( 'parent_traversal_name', ''))" />
            </tal:block>
         </tal:block>
    </tal:block>

    <metal:block metal:use-macro="here/PerformanceAnalysis/macros/tRenderProcessingTime_HTML" />   

    <tal:block tal:define="dummy python: request.response.redirect( pRedirectURL)" />    

    
</body>
</html>
    